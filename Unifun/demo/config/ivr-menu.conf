; IVR Menu for test task
[ivr-menu]

; Main IVR entry point - number 500
exten => 500,1,Answer()
exten => 500,n,Set(TIMEOUT(digit)=10)
exten => 500,n,Playback(silence/1)
exten => 500,n,SayDigits(500)
exten => 500,n,Playback(silence/1)
exten => 500,n,WaitExten(10)

; Option 1 - Smile
exten => 1,1,Playback(demo-congrats)
exten => 1,n,Hangup()

; Option 2 - Enter digit
exten => 2,1,Read(digit,silence/1,,1)
exten => 2,n,SayDigits(${digit})
exten => 2,n,Hangup()

; Option 3 - Record message
exten => 3,1,Playback(beep)
exten => 3,n,Record(/tmp/message.wav,,10)
exten => 3,n,Wait(1)
exten => 3,n,Playback(/tmp/message.wav)
exten => 3,n,Hangup()

; Invalid input
exten => i,1,Playback(invalid)
exten => i,n,Goto(ivr-menu,500,1)

; Timeout
exten => t,1,Playback(goodbye)
exten => t,n,Hangup()
